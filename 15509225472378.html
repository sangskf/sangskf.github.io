<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  MySQL基础 - 见课就上的小婊砸
  
  </title>
  
  
  <link href="atom.xml" rel="alternate" title="见课就上的小婊砸" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />
    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
  <script src="asset/highlightjs/highlight.pack.js"></script>
  <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link rel="icon" href="favicon.ico" type="images/x-ico">
  <script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
  function before_search(){
    var searchVal = 'site:books.sangkf.cn ' + document.getElementById('search_input').value;
    document.getElementById('search_q').value = searchVal;
    return true;
  }
</script>
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>


  <section class="top-bar-section">
  <div class="row">
      <div style="position: relative;width:100%;"><div style="position: absolute; width:100%;">
        <ul id="main-menu" class="left">
        
        <li id=""><a target="_self" href="index.html">首页</a></li>
        
        <li id=""><a target="_self" href="front.html">前端</a></li>
        
        <li id=""><a target="_self" href="java.html">后端</a></li>
        
        <li id=""><a target="_self" href="microservice.html">微服务</a></li>
        
        <li id=""><a target="_self" href="database.html">数据库</a></li>
        
        <li id=""><a target="_self" href="other.html">其他</a></li>
        
        <li id=""><a target="_self" href="archives.html">归档</a></li>
        
        <li id=""><a target="_blank" href="https://gitee.com/413198756/events">关于作者</a></li>
        
        </ul>

        <ul class="right" id="search-wrap">
          <li>
<form target="_blank" onsubmit="return before_search();" action="https://google.com/search" method="get">
    <input type="hidden" id="search_q" name="q" value="" />
    <input tabindex="1" type="search" id="search_input"  placeholder="搜索"/>
</form>
</li>
          </ul>
      </div></div>
  </div>
  </section>

</nav>

        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; 见课就上的小婊砸</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
        
        <li><a target="_self" href="index.html">首页</a></li>
        
        <li><a target="_self" href="front.html">前端</a></li>
        
        <li><a target="_self" href="java.html">后端</a></li>
        
        <li><a target="_self" href="microservice.html">微服务</a></li>
        
        <li><a target="_self" href="database.html">数据库</a></li>
        
        <li><a target="_self" href="other.html">其他</a></li>
        
        <li><a target="_self" href="archives.html">归档</a></li>
        
        <li><a target="_blank" href="https://gitee.com/413198756/events">关于作者</a></li>
        

    <li><label>Categories</label></li>

        
            <li><a href="front.html">前端</a></li>
        
            <li><a href="java.html">后端</a></li>
        
            <li><a href="microservice.html">微服务</a></li>
        
            <li><a href="database.html">数据库</a></li>
        
            <li><a href="other.html">其他</a></li>
         

      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>


        <section id="main-content" role="main" class="scroll-container">
        
       

 <script type="text/javascript">
  $(function(){
    $('#menu_item_index').addClass('is_active');
  });
</script>
<div class="row">
  <div class="large-8 medium-8 columns">
      <div class="markdown-body article-wrap">
       <div class="article">
          
          <h1>MySQL基础</h1>
     
        <div class="read-more clearfix">
          <span class="date">2019/2/23 19:49 下午</span>

          <span>发布于分类&nbsp;</span> 
          
              <span class="posted-in"><a href='database.html'>数据库</a></span>
           
         
          <span class="comments">
            

            
          </span>

        </div>
      </div><!-- article -->

      <div class="article-content">
      <p>一、MySQL概述</p>

<p>1、什么是数据库 ？<br/>
　答：数据的仓库，如：在ATM的示例中我们创建了一个 db 目录，称其为数据库</p>

<p>2、什么是 MySQL、Oracle、SQLite、Access、MS SQL Server等 ？<br/>
　答：他们均是一个软件，都有两个主要的功能：</p>

<ul>
<li>a. 将数据保存到文件或内存</li>
<li>b. 接收特定的命令，然后对文件进行相应的操作
<span id="more"></span><!-- more -->
3、什么是SQL ？<br/>
答：MySQL等软件可以接受命令，并做出相应的操作，由于命令中可以包含删除文件、获取文件内容等众多操作，对于编写的命令就是是SQL语句。</li>
</ul>

<p>二、MySQL安装</p>

<p>      MySQL是一个关系型数据库管理系统，由瑞典MySQL AB 公司开发，目前属于 Oracle 旗下公司。MySQL 最流行的关系型数据库管理系统，在 WEB 应用方面MySQL是最好的 RDBMS (Relational Database Management System，关系数据库管理系统) 应用软件之一。</p>

<p>想要使用MySQL来存储并操作数据，则需要做几件事情：<br/>
　　a. 安装MySQL服务端<br/>
　　b. 安装MySQL客户端<br/>
　　b. 【客户端】连接【服务端】<br/>
　　c. 【客户端】发送命令给【服务端MySQL】服务的接受命令并执行相应操作(增删改查等)</p>

<p><a href="javascript:void(0);" title="复制代码"><img src="media/15509225472378/copycode.gif" alt="复制代码"/></a></p>

<p>下载<br/>
           <a href="http://dev.mysql.com/downloads/mysql/">http://dev.mysql.com/downloads/mysql/</a> 安装<br/>
         windows：<br/><br/>
              <a href="http://jingyan.baidu.com/article/f3ad7d0ffc061a09c3345bf0.html">http://jingyan.baidu.com/article/f3ad7d0ffc061a09c3345bf0.html</a></p>

<pre><code class="language-text">      linux：
           yum install mysql-server
       mac：
           一直点下一步
</code></pre>

<p><a href="javascript:void(0);" title="复制代码"><img src="media/15509225472378/copycode.gif" alt="复制代码"/></a></p>

<p>客户端连接</p>

<p><a href="javascript:void(0);" title="复制代码"><img src="media/15509225472378/copycode.gif" alt="复制代码"/></a></p>

<p>连接： 1、mysql管理人默认为root，没有设置密码则直接登录<br/>
               mysql -h host -u root  -p 不用输入密码按回车自动进入 2、如果想设置mysql密码<br/>
               mysqladmin -u root password 123456<br/>
      3、如果你的root现在有密码了（123456），那么修改密码为abcdef的命令是：<br/>
              mysqladmin -u root -p password abcdef<br/>
 退出：<br/>
       QUIT 或者 Control+D</p>

<p><a href="javascript:void(0);" title="复制代码"><img src="media/15509225472378/copycode.gif" alt="复制代码"/></a></p>

<p>三、数据库基础</p>

<p> 分为两大部分：</p>

<p>                  1、数据库和表的创建;</p>

<p>                  2、数据库和表内容的操作</p>

<p> 数据库操作-思路图</p>

<p> <img src="media/15509225472378/875796-20160817223356796-2033052989.png" alt=""/></p>

<p>1、数据库和表的创建</p>

<p>     （一）数据库的创建</p>

<p>  <strong>1.1、显示数据库</strong></p>

<p>1 SHOW DATABASES;</p>

<p>    默认数据库：<br/>
　    　　　  mysql - 用户权限相关数据<br/>
　　　　　　test - 用于用户测试数据<br/>
　　　　　　information_schema - MySQL本身架构相关数据</p>

<p>  <strong>1.2、创建数据库</strong></p>

<p># utf-8 CREATE DATABASE 数据库名称 DEFAULT CHARSET utf8 COLLATE utf8_general_ci;</p>

<p># gbk<br/>
  CREATE DATABASE 数据库名称 DEFAULT CHARACTER SET gbk COLLATE gbk_chinese_ci;</p>

<p>  <strong>1.3、打开数据库</strong></p>

<p>USE db_name;<br/>
 注：每次使用数据库必须打开相应数据库</p>

<p>显示当前使用的数据库中所有表：SHOW TABLES;</p>

<p> <strong>1.4、用户管理</strong></p>

<p>                  用户设置:</p>

<p><a href="javascript:void(0);" title="复制代码"><img src="media/15509225472378/copycode.gif" alt="复制代码"/></a></p>

<p>创建用户<br/>
    create user &#39;用户名&#39;@&#39;IP地址&#39; identified by &#39;密码&#39;;<br/>
删除用户<br/>
    drop user &#39;用户名&#39;@&#39;IP地址&#39;;<br/>
修改用户<br/>
    rename user &#39;用户名&#39;@&#39;IP地址&#39;; to &#39;新用户名&#39;@&#39;IP地址&#39;;;<br/>
修改密码<br/>
    set password for &#39;用户名&#39;@&#39;IP地址&#39; = Password(&#39;新密码&#39;)</p>

<p>PS：用户权限相关数据保存在mysql数据库的user表中，所以也可以直接对其进行操作（不建议）</p>

<p><a href="javascript:void(0);" title="复制代码"><img src="media/15509225472378/copycode.gif" alt="复制代码"/></a></p>

<p>                  用户权限设置:</p>

<p>show grants for &#39;用户&#39;@&#39;IP地址&#39;                  -- 查看权限<br/>
grant  权限 on 数据库.表 to &#39;用户&#39;@&#39;IP地址&#39;      -- 授权<br/>
revoke 权限 on 数据库.表 from &#39;用户&#39;@&#39;IP地址&#39;      -- 取消权限</p>

<p><img src="media/15509225472378/ContractedBlock.gif" alt=""/> 对于权限设置</p>

<p><img src="media/15509225472378/ContractedBlock.gif" alt=""/> 对于数据库名的解释</p>

<p><img src="media/15509225472378/ContractedBlock.gif" alt=""/> 对于ip地址的访问</p>

<p><img src="media/15509225472378/ContractedBlock.gif" alt=""/> 实际例子</p>

<p>1.4、备份库和恢复库</p>

<p>         备份库：</p>

<p>         MySQL备份和还原,都是利用mysqldump、mysql和source命令来完成。</p>

<p><strong>  </strong>    1.在Windows下MySQL的备份与还原</p>

<p><a href="javascript:void(0);" title="复制代码"><img src="media/15509225472378/copycode.gif" alt="复制代码"/></a></p>

<p>备份 1、开始菜单 | 运行 | cmd |利用“cd /Program Files/MySQL/MySQL Server 5.0/bin”命令进入bin文件夹 2、利用“mysqldump  -u 用户名 -p databasename &gt;exportfilename”导出数据库到文件，如mysqldump -u root -p voice&gt;voice.sql，然后输入密码即可开始导出。 </p>

<p>还原 1、进入MySQL Command Line Client，输入密码，进入到“mysql&gt;”。 2、输入命令&quot;show databases；&quot;，回车，看看有些什么数据库；建立你要还原的数据库，输入&quot;create database voice；&quot;，回车。 3、切换到刚建立的数据库，输入&quot;use voice；&quot;，回车；导入数据，输入&quot;source voice.sql；&quot;，回车，开始导入，再次出现&quot;mysql&gt;&quot;并且没有提示错误即还原成功。 </p>

<p><a href="javascript:void(0);" title="复制代码"><img src="media/15509225472378/copycode.gif" alt="复制代码"/></a></p>

<p>     2、在linux下MySQL的备份与还原</p>

<p><a href="javascript:void(0);" title="复制代码"><img src="media/15509225472378/copycode.gif" alt="复制代码"/></a></p>

<p>2.1 备份(利用命令mysqldump进行备份)  [root@localhost mysql]# mysqldump -u root -p voice&gt;voice.sql，输入密码即可。 2.2 还原<br/>
方法一：  [root@localhost ~]# mysql -u root -p 回车，输入密码，进入MySQL的控制台&quot;mysql&gt;&quot;，同1.2还原。<br/>
方法二：<br/>
 [root@localhost mysql]# mysql -u root -p voicevoice.sql，输入密码即可。</p>

<p><a href="javascript:void(0);" title="复制代码"><img src="media/15509225472378/copycode.gif" alt="复制代码"/></a></p>

<p>    3、更多备份及还原命令</p>

<p><img src="media/15509225472378/ContractedBlock.gif" alt=""/> 更多备份</p>

<p>更多备份知识：</p>

<p><a href="http://www.jb51.net/article/41570.htm">http://www.jb51.net/article/41570.htm</a></p>

<p>（二）数据表的创建</p>

<p> <strong>1.1、显示数据表</strong></p>

<p>show tables;</p>

<p> <strong>1.2、创建数据表</strong></p>

<p>create table 表名(<br/>
    列名  类型  是否可以为空，<br/>
    列名  类型  是否可以为空<br/>
)ENGINE=InnoDB DEFAULT CHARSET=utf8</p>

<p><img src="media/15509225472378/ContractedBlock.gif" alt=""/> 设置是否为空</p>

<p><img src="media/15509225472378/ContractedBlock.gif" alt=""/> 设置默认值</p>

<p><img src="media/15509225472378/ContractedBlock.gif" alt=""/> 设置自增</p>

<p><img src="media/15509225472378/ContractedBlock.gif" alt=""/> 设置主键</p>

<p><img src="media/15509225472378/ContractedBlock.gif" alt=""/> 设置外键</p>

<p>主键与外键关系(非常重要)</p>

<p><a href="http://www.cnblogs.com/programmer-tlh/p/5782451.html">http://www.cnblogs.com/programmer-tlh/p/5782451.html</a></p>

<p> 1.3删除表</p>

<p>drop table 表名</p>

<p>1.4、清空表</p>

<p>delete from 表名<br/>
truncate table 表名</p>

<p>1.5、基本数据类型</p>

<p>MySQL的数据类型大致分为：数值、时间和字符串</p>

<p><a href="javascript:void(0);" title="复制代码"><img src="media/15509225472378/copycode.gif" alt="复制代码"/></a></p>

<p>bit[(M)]<br/>
            二进制位（101001），m表示二进制位的长度（1-64），默认m＝1 tinyint[(m)] [unsigned] [zerofill]</p>

<pre><code class="language-text">        小整数，数据类型用于保存一些范围的整数数值范围：
        有符号： -128 ～ 127.
        无符号： 0 ～ 255 特别的： MySQL中无布尔值，使用tinyint(1)构造。 int[(m)][unsigned][zerofill]

        整数，数据类型用于保存一些范围的整数数值范围：
            有符号： -2147483648 ～ 2147483647 无符号： 0 ～ 4294967295 特别的：整数类型中的m仅用于显示，对存储范围无限制。例如： int(5),当插入数据2时，select 时数据显示为： 00002 bigint[(m)][unsigned][zerofill]
        大整数，数据类型用于保存一些范围的整数数值范围：
            有符号： -9223372036854775808 ～ 9223372036854775807 无符号： 0  ～  18446744073709551615

    decimal[(m[,d])] [unsigned] [zerofill]
        准确的小数值，m是数字总个数（负号不算），d是小数点后个数。 m最大值为65，d最大值为30。

        特别的：对于精确数值计算时需要用此类型
               decaimal能够存储精确值的原因在于其内部按照字符串存储。

    FLOAT[(M,D)] [UNSIGNED] [ZEROFILL]
        单精度浮点数（非准确小数值），m是数字总个数，d是小数点后个数。
            无符号： -3.402823466E+38 to -1.175494351E-38, 0
                1.175494351E-38 to 3.402823466E+38 有符号： 0
                1.175494351E-38 to 3.402823466E+38

        **** 数值越大，越不准确 **** DOUBLE[(M,D)] [UNSIGNED] [ZEROFILL]
        双精度浮点数（非准确小数值），m是数字总个数，d是小数点后个数。

            无符号： -1.7976931348623157E+308 to -2.2250738585072014E-308
                0
                2.2250738585072014E-308 to 1.7976931348623157E+308 有符号： 0
                2.2250738585072014E-308 to 1.7976931348623157E+308
        **** 数值越大，越不准确 ****

    char (m)
        char数据类型用于表示固定长度的字符串，可以包含最多达255个字符。其中m代表字符串的长度。
        PS: 即使数据小于m长度，也会占用m长度
    varchar(m)
        varchars数据类型用于变长的字符串，可以包含最多达255个字符。其中m代表该数据类型所允许保存的字符串的最大长度，只要长度小于该最大值的字符串都可以被保存在该数据类型中。

        注：虽然varchar使用起来较为灵活，但是从整个系统的性能角度来说，char数据类型的处理速度更快，有时甚至可以超出varchar处理速度的50%。因此，用户在设计数据库时应当综合考虑各方面的因素，以求达到最佳的平衡

    text
        text数据类型用于保存变长的大字符串，可以组多到65535 (2**16 − 1)个字符。

    mediumtext
        A TEXT column with a maximum length of 16,777,215 (2**24 − 1) characters.

    longtext
        A TEXT column with a maximum length of 4,294,967,295 or 4GB (2**32 − 1) characters. enum 枚举类型，
        An ENUM column can have a maximum of 65,535 distinct elements. (The practical limit is less than 3000.)
        示例：
            CREATE TABLE shirts (
                name VARCHAR(40),
                size ENUM(&#39;x-small&#39;, &#39;small&#39;, &#39;medium&#39;, &#39;large&#39;, &#39;x-large&#39;)
            );
            INSERT INTO shirts (name, size) VALUES (&#39;dress shirt&#39;,&#39;large&#39;), (&#39;t-shirt&#39;,&#39;medium&#39;),(&#39;polo shirt&#39;,&#39;small&#39;); set 集合类型
        A SET column can have a maximum of 64 distinct members.
        示例：
            CREATE TABLE myset (col SET(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;));
            INSERT INTO myset (col) VALUES (&#39;a,d&#39;), (&#39;d,a&#39;), (&#39;a,d,a&#39;), (&#39;a,d,d&#39;), (&#39;d,a,d&#39;);

    DATE
        YYYY-MM-DD（1000-01-01/9999-12-31）

    TIME
        HH:MM:SS（&#39;-838:59:59&#39;/&#39;838:59:59&#39;）

    YEAR
        YYYY（1901/2155）

    DATETIME

        YYYY-MM-DD HH:MM:SS（1000-01-01 00:00:00/9999-12-31 23:59:59 Y）

    TIMESTAMP

        YYYYMMDD HHMMSS（1970-01-01 00:00:00/2037 年某时）
</code></pre>

<p><a href="javascript:void(0);" title="复制代码"><img src="media/15509225472378/copycode.gif" alt="复制代码"/></a></p>

<p>1.6、修改表(alter)   </p>

<p><img src="media/15509225472378/ContractedBlock.gif" alt=""/> 修改表</p>

<p>更多参考：</p>

<ul>
<li><a href="http://www.runoob.com/mysql/mysql-data-types.html">http://www.runoob.com/mysql/mysql-data-types.html</a></li>
</ul>

<p>1.7、数据表关系</p>

<p>关联映射：一对多/多对一</p>

<p> </p>

<p>存在最普遍的映射关系，简单来讲就如球员与球队的关系；</p>

<p> </p>

<p>一对多：从球队角度来说一个球队拥有多个球员 即为一对多</p>

<p> </p>

<p>多对一：从球员角度来说多个球员属于一个球队 即为多对一</p>

<p>数据表间一对多关系如下图：</p>

<p><img src="media/15509225472378/875796-20160820142621515-232747436.png" alt=""/></p>

<p>关联映射：一对一</p>

<p> </p>

<p>一对一关系就如球队与球队所在地址之间的关系，一支球队仅有一个地址，而一个地址区也仅有一支球队。</p>

<p> </p>

<p>数据表间一对一关系的表现有两种，一种是外键关联，一种是主键关联。图示如下：</p>

<p> </p>

<p>一对一外键关联：</p>

<p><img src="media/15509225472378/875796-20160820142730312-2021124065.png" alt=""/></p>

<p>一对一主键关联：要求两个表的主键必须完全一致，通过两个表的主键建立关联关系</p>

<p><img src="media/15509225472378/875796-20160820142826187-1820882386.png" alt=""/></p>

<p>关联映射：多对多</p>

<p> </p>

<p>多对多关系也很常见，例如学生与选修课之间的关系，一个学生可以选择多门选修课，而每个选修课又可以被多名学生选择。</p>

<p> </p>

<p>数据库中的多对多关联关系一般需采用中间表的方式处理，将多对多转化为两个一对多</p>

<p><img src="media/15509225472378/875796-20160820142942312-1453486277.png" alt=""/></p>

<p>1.8、数据表之间的约束</p>

<p>约束是一种限制，它通过对表的行或列的数据做出限制，来确保表的数据的完整性、唯一性。</p>

<p>MYSQL中，常用的几种约束：</p>

<p><img src="media/15509225472378/875796-20160820144316703-1845529838.png" alt=""/></p>

<h1 id="toc_0"></h1>

<p>主键(PRIMARY KEY)是用于约束表中的一行，作为这一行的标识符，在一张表中通过主键就能准确定位到一行，因此主键十分重要。主键要求这一行的数据不能有重复且不能为空。</p>

<p> 还有一种特殊的主键——复合主键。主键不仅可以是表中的一列，也可以由表中的两列或多列来共同标识</p>

<h1 id="toc_1"></h1>

<p>默认值约束(DEFAULT)规定，当有DEFAULT约束的列，插入数据为空时该怎么办。</p>

<p>DEFAULT约束只会在使用INSERT语句（上一实验介绍过）时体现出来，INSERT语句中，如果被DEFAULT约束的位置没有值，那么这个位置将会被DEFAULT的值填充</p>

<h1 id="toc_2"></h1>

<p>唯一约束(UNIQUE)比较简单，它规定一张表中指定的一列的值必须不能有重复值，即这一列每个值都是唯一的。</p>

<p>当INSERT语句新插入的数据和已有数据重复的时候，如果有UNIQUE约束，则INSERT失败.</p>

<h1 id="toc_3"></h1>

<p>外键(FOREIGN KEY)既能确保数据完整性，也能表现表之间的关系。</p>

<p>一个表可以有多个外键，每个外键必须REFERENCES(参考)另一个表的主键，被外键约束的列，取值必须在它参考的列中有对应值。</p>

<p>在INSERT时，如果被外键约束的值没有在参考列中有对应，比如以下命令，参考列(department表的dpt_name)中没有dpt3，则INSERT失败</p>

<h1 id="toc_4"></h1>

<p>非空约束(NOT NULL),听名字就能理解，被非空约束的列，在插入值时必须非空。</p>

<p>在MySQL中违反非空约束，不会报错，只会有警告.</p>

<p><img src="media/15509225472378/ContractedBlock.gif" alt=""/> 例子</p>

<p>2、数据库和表内容的操作(增、删、改、查)</p>

<p> 1、增</p>

<p>insert into 表 (列名,列名...) values (值,值,值...) insert into 表 (列名,列名...) values (值,值,值...),(值,值,值...) insert into 表 (列名,列名...) select (列名,列名...) from 表</p>

<p>2、删</p>

<p>delete from 表 delete from 表 where id＝1 and name＝&#39;alex&#39;</p>

<p>3、改</p>

<p>update 表 set name ＝ &#39;alex&#39; where id&gt;1</p>

<p>4、查</p>

<p>　　4.1、普通查询</p>

<p>select * from 表 select * from 表 where id &gt; 1<br/>
select nid,name,gender as gg from 表 where id &gt; 1</p>

<p><img src="media/15509225472378/ContractedBlock.gif" alt=""/> 更多选项查询</p>

<p> 4.2、数据排序(查询)</p>

<p>排序 select * from 表 order by 列 asc              - 根据 “列” 从小到大排列 select * from 表 order by 列 desc             - 根据 “列” 从大到小排列 select * from 表 order by 列1 desc,列2 asc    - 根据 “列1” 从大到小排列，如果相同则按列2从小到大排序</p>

<p>     4.3、模糊查询</p>

<p>通配符(模糊查询) select * from 表 where name like &#39;ale%&#39;  - ale开头的所有（多个字符串） select * from 表 where name like &#39;ale_&#39;  - ale开头的所有（一个字符）</p>

<p>     4.4、聚集函数查询</p>

<p><img src="media/15509225472378/ContractedBlock.gif" alt=""/> 聚集函数 </p>

<p>     4.5、分组查询</p>

<p><a href="javascript:void(0);" title="复制代码"><img src="media/15509225472378/copycode.gif" alt="复制代码"/></a></p>

<p>分组 select num from 表 group by num select num,nid from 表 group by num,nid select num,nid from 表  where nid &gt; 10 group by num,nid order nid desc<br/>
    select num,nid,count(*),sum(score),max(score),min(score) from 表 group by num,nid select num from 表 group by num having max(id) &gt; 10 特别的：group by 必须在where之后，order by之前</p>

<p><a href="javascript:void(0);" title="复制代码"><img src="media/15509225472378/copycode.gif" alt="复制代码"/></a></p>

<p>     4.6多表查询</p>

<p><a href="javascript:void(0);" title="复制代码"><img src="media/15509225472378/copycode.gif" alt="复制代码"/></a></p>

<p>a、连表<br/>
    无对应关系则不显示 select A.num, A.name, B.name from A,B Where A.nid = B.nid</p>

<pre><code class="language-text">无对应关系则不显示 select A.num, A.name, B.name from A inner join B on A.nid = B.nid

A表所有显示，如果B中无对应关系，则值为null select A.num, A.name, B.name from A left join B on A.nid = B.nid

B表所有显示，如果B中无对应关系，则值为null select A.num, A.name, B.name from A right join B on A.nid = B.nid
</code></pre>

<p>b、组合<br/>
    组合，自动处理重合 select nickname from A union<br/>
    select name from B</p>

<pre><code class="language-text">组合，不处理重合 select nickname from A union all
select name from B
</code></pre>

<p><a href="javascript:void(0);" title="复制代码"><img src="media/15509225472378/copycode.gif" alt="复制代码"/></a></p>

<ul>
<li>
<a href="#toc_0"></a>
</li>
<li>
<a href="#toc_1"></a>
</li>
<li>
<a href="#toc_2"></a>
</li>
<li>
<a href="#toc_3"></a>
</li>
<li>
<a href="#toc_4"></a>
</li>
</ul>



    

      </div>

      <div class="row">
        <div class="large-6 columns">
        <p class="text-left" style="padding:15px 0px;">
      
          <a href="15509248711452.html" 
          title="Previous Post: 自定义预览样式，让 MWeb 支持 ECharts、mermaid、PlantUML 等任何 JS 画图库">&laquo; 自定义预览样式，让 MWeb 支持 ECharts、mermaid、PlantUML 等任何 JS 画图库</a>
      
        </p>
        </div>
        <div class="large-6 columns">
      <p class="text-right" style="padding:15px 0px;">
      
          <a  href="15509183306420.html" 
          title="Next Post: Springcloud各层框架注解含义">Springcloud各层框架注解含义 &raquo;</a>
      
      </p>
        </div>
      </div>
      <div class="comments-wrap">
        <div class="share-comments">
          <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk@latest/dist/gitalk.min.js"></script> 
<div id="gitalk-container"></div>     <script type="text/javascript">
    var gitalk = new Gitalk({
        clientID: `14d87c9522298bd378c3`,
        clientSecret: `6639fcb9eef53d63c3f1c983313fafaa790e9e5f`,
        repo: `sangskf.github.io`,
        owner: 'sangskf',
        admin: ['sangskf'],
        id: location.href
    });
    gitalk.render('gitalk-container');
</script> 

          

          
        </div>
      </div>
    </div><!-- article-wrap -->
  </div><!-- large 8 -->




 <div class="large-4 medium-4 columns">
  <div class="hide-for-small">
    <div id="sidebar" class="sidebar">
          <div id="site-info" class="site-info">
            
                <div class="site-a-logo"><img src="http://image.sangkf.cn/IMG_0186.jpg" /></div>
            
                <h1>见课就上的小婊砸</h1>
                <div class="site-des">人生的磨难是很多的，所以我们不可对于每一件轻微的伤害都过于敏感。在生活磨难面前，精神上的坚强和无动于衷是我们抵抗罪恶和人生意外的最好武器。</div>
                <div class="social">









<a target="_blank" class="github" target="_blank" href="https://github.com/sangskf" title="GitHub">GitHub</a>
<a target="_blank" class="email" href="mailto:413198756@qq.com" title="Email">Email</a>
  <a target="_blank" class="rss" href="atom.xml" title="RSS">RSS</a>
                
              	 </div>
          	</div>

             

              <div id="site-categories" class="side-item ">
                <div class="side-header">
                  <h2>文章分类</h2>
                </div>
                <div class="side-content">

      	<p class="cat-list">
        
            <a href="front.html"><strong>前端</strong></a>
        
            <a href="java.html"><strong>后端</strong></a>
        
            <a href="microservice.html"><strong>微服务</strong></a>
        
            <a href="database.html"><strong>数据库</strong></a>
        
            <a href="other.html"><strong>其他</strong></a>
         
        </p>


                </div>
              </div>

              <div id="site-categories" class="side-item">
                <div class="side-header">
                  <h2>最新发布</h2>
                </div>
                <div class="side-content">
                <ul class="posts-list">
	      
		      
			      <li class="post">
			        <a href="15511042581022.html">微服务架构下处理分布式事务的典型方案</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15511041776834.html">分布式系统常见的事务处理机制</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15511034481464.html">😋 技术必备基础知识</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15510945917129.html">分布式事务</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15510944838066.html">事务</a>
			      </li>
		     
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		   
		  		</ul>
                </div>
              </div>
        </div><!-- sidebar -->
      </div><!-- hide for small -->
</div><!-- large 4 -->

</div><!-- row -->

 <div class="page-bottom clearfix">
  <div class="row">
   <p class="copyright">Copyright &copy; 2019
Powered by <a target="_blank" href="http://books.sangkf.cn">见课就上的小婊砸</a>,&nbsp; 
 &nbsp;京ICP备18064309号
 <img width="13" height="16" src="https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/copy_rignt_24.png">
</p>
  </div>
</div>

        </section>
      </div>
    </div>

  
    

    <script src="asset/js/foundation.min.js"></script>
    <script>
      $(document).foundation();
      function fixSidebarHeight(){
        var w1 = $('.markdown-body').height();
          var w2 = $('#sidebar').height();
          if (w1 > w2) { $('#sidebar').height(w1); };
      }
      $(function(){
        fixSidebarHeight();
      })
      $(window).load(function(){
          fixSidebarHeight();
      });
     
    </script>

    

<style type="text/css">
	#custom_menu{
		float: left;width: 200px;
		position:absolute;
		z-index: 999;
		margin-top: 65px;
	}
	#custom_menu li{
	   list-style: none;
	   margin: 0px;
	   padding: 0px;
	}
	#custom_menu ul li{
		border-bottom: : 1px solid #ccc;
	}
	#custom_menu ul li a{
		display: block;
		text-decoration: none;
		padding: 6px 10px;
		background-color: white;
		border-left: 2px solid #ccc;
	}
	#custom_menu ul li a:hover{
		background-color: #f7f7f7;
	}
</style>
<script>
	function browserRedirect() {
      var sUserAgent = navigator.userAgent.toLowerCase();
      var bIsIpad = sUserAgent.match(/ipad/i) == "ipad";
      var bIsIphoneOs = sUserAgent.match(/iphone os/i) == "iphone os";
      var bIsMidp = sUserAgent.match(/midp/i) == "midp";
      var bIsUc7 = sUserAgent.match(/rv:1.2.3.4/i) == "rv:1.2.3.4";
      var bIsUc = sUserAgent.match(/ucweb/i) == "ucweb";
      var bIsAndroid = sUserAgent.match(/android/i) == "android";
      var bIsCE = sUserAgent.match(/windows ce/i) == "windows ce";
      var bIsWM = sUserAgent.match(/windows mobile/i) == "windows mobile";
      if (bIsIpad || bIsIphoneOs || bIsMidp || bIsUc7 || bIsUc || bIsAndroid || bIsCE || bIsWM) {
        return true;
      } else {
        return false;
      }
    }

	$(document).ready(function(){
		if(!browserRedirect()){
		$(".article-content>ul:last").wrap("<div id='custom_menu'></div>");
	    	var $custom_menu = $("#custom_menu");
	    	$("#custom_menu").remove();
	    	$custom_menu.insertBefore($(".inner-wrap"));
	    	var menuYloc = $("#custom_menu").offset().top;
			$(window).scroll(function () {
				var offsetTop = menuYloc + $(window).scrollTop() + "px";
				$("#custom_menu").css("margin-top",offsetTop);
			});
		}
	});
</script> 

  </body>
</html>
